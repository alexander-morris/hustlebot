{"ast":null,"code":"import _asyncToGenerator from\"@babel/runtime/helpers/asyncToGenerator\";import _regeneratorRuntime from\"@babel/runtime/regenerator\";var isDev=process.env.NODE_ENV==='development';var API_URL=isDev?'http://localhost:3000/api':'/api';export var sendMessage=function(){var _ref=_asyncToGenerator(_regeneratorRuntime.mark(function _callee(message){var response;return _regeneratorRuntime.wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return fetch(\"\".concat(API_URL,\"/chat\"),{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify({message:message})});case 3:response=_context.sent;if(response.ok){_context.next=6;break;}throw new Error('Network response was not ok');case 6:_context.next=8;return response.json();case 8:return _context.abrupt(\"return\",_context.sent);case 11:_context.prev=11;_context.t0=_context[\"catch\"](0);console.error('AI service error:',_context.t0);throw _context.t0;case 15:case\"end\":return _context.stop();}},_callee,null,[[0,11]]);}));return function sendMessage(_x){return _ref.apply(this,arguments);};}();export var validateInvite=function(){var _ref2=_asyncToGenerator(_regeneratorRuntime.mark(function _callee2(code){var response,errorData,data;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1)switch(_context2.prev=_context2.next){case 0:_context2.prev=0;if(isDev){console.log('[DEV] Validating invite:',code);}_context2.next=4;return fetch(\"\".concat(API_URL,\"/invite/validate\"),{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify({code:code})});case 4:response=_context2.sent;if(response.ok){_context2.next=10;break;}_context2.next=8;return response.json()[\"catch\"](function(){return{};});case 8:errorData=_context2.sent;throw new Error(errorData.message||\"HTTP error! status: \".concat(response.status));case 10:if(isDev){console.log('[DEV] Response status:',response.status);}_context2.next=13;return response.json();case 13:data=_context2.sent;if(isDev){console.log('[DEV] Response data:',data);}return _context2.abrupt(\"return\",data);case 18:_context2.prev=18;_context2.t0=_context2[\"catch\"](0);console.error('Invite validation error:',_context2.t0.message);throw _context2.t0;case 22:case\"end\":return _context2.stop();}},_callee2,null,[[0,18]]);}));return function validateInvite(_x2){return _ref2.apply(this,arguments);};}();","map":{"version":3,"names":["isDev","process","env","NODE_ENV","API_URL","sendMessage","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","message","response","wrap","_callee$","_context","prev","next","fetch","concat","method","headers","body","JSON","stringify","sent","ok","Error","json","abrupt","t0","console","error","stop","_x","apply","arguments","validateInvite","_ref2","_callee2","code","errorData","data","_callee2$","_context2","log","status","_x2"],"sources":["/Users/almorris/cursor-test/frontend/src/services/ai.js"],"sourcesContent":["const isDev = process.env.NODE_ENV === 'development';\nconst API_URL = isDev ? 'http://localhost:3000/api' : '/api';\n\nexport const sendMessage = async (message) => {\n  try {\n    const response = await fetch(`${API_URL}/chat`, {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json',\n      },\n      body: JSON.stringify({ message }),\n    });\n\n    if (!response.ok) {\n      throw new Error('Network response was not ok');\n    }\n\n    return await response.json();\n  } catch (error) {\n    console.error('AI service error:', error);\n    throw error;\n  }\n};\n\nexport const validateInvite = async (code) => {\n  try {\n    if (isDev) {\n      console.log('[DEV] Validating invite:', code);\n    }\n    \n    const response = await fetch(`${API_URL}/invite/validate`, {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json',\n      },\n      body: JSON.stringify({ code }),\n    });\n\n    if (!response.ok) {\n      const errorData = await response.json().catch(() => ({}));\n      throw new Error(errorData.message || `HTTP error! status: ${response.status}`);\n    }\n\n    if (isDev) {\n      console.log('[DEV] Response status:', response.status);\n    }\n\n    const data = await response.json();\n    if (isDev) {\n      console.log('[DEV] Response data:', data);\n    }\n    return data;\n  } catch (error) {\n    console.error('Invite validation error:', error.message);\n    throw error;\n  }\n};\n"],"mappings":"mIAAA,GAAM,CAAAA,KAAK,CAAGC,OAAO,CAACC,GAAG,CAACC,QAAQ,GAAK,aAAa,CACpD,GAAM,CAAAC,OAAO,CAAGJ,KAAK,CAAG,2BAA2B,CAAG,MAAM,CAE5D,MAAO,IAAM,CAAAK,WAAW,gBAAAC,IAAA,CAAAC,iBAAA,CAAAC,mBAAA,CAAAC,IAAA,CAAG,SAAAC,QAAOC,OAAO,MAAAC,QAAA,QAAAJ,mBAAA,CAAAK,IAAA,UAAAC,SAAAC,QAAA,iBAAAA,QAAA,CAAAC,IAAA,CAAAD,QAAA,CAAAE,IAAA,SAAAF,QAAA,CAAAC,IAAA,GAAAD,QAAA,CAAAE,IAAA,SAEd,CAAAC,KAAK,IAAAC,MAAA,CAAIf,OAAO,UAAS,CAC9CgB,MAAM,CAAE,MAAM,CACdC,OAAO,CAAE,CACP,cAAc,CAAE,kBAClB,CAAC,CACDC,IAAI,CAAEC,IAAI,CAACC,SAAS,CAAC,CAAEb,OAAO,CAAPA,OAAQ,CAAC,CAClC,CAAC,CAAC,QANIC,QAAQ,CAAAG,QAAA,CAAAU,IAAA,IAQTb,QAAQ,CAACc,EAAE,EAAAX,QAAA,CAAAE,IAAA,eACR,IAAI,CAAAU,KAAK,CAAC,6BAA6B,CAAC,QAAAZ,QAAA,CAAAE,IAAA,SAGnC,CAAAL,QAAQ,CAACgB,IAAI,CAAC,CAAC,eAAAb,QAAA,CAAAc,MAAA,UAAAd,QAAA,CAAAU,IAAA,UAAAV,QAAA,CAAAC,IAAA,IAAAD,QAAA,CAAAe,EAAA,CAAAf,QAAA,aAE5BgB,OAAO,CAACC,KAAK,CAAC,mBAAmB,CAAAjB,QAAA,CAAAe,EAAO,CAAC,CAAC,MAAAf,QAAA,CAAAe,EAAA,0BAAAf,QAAA,CAAAkB,IAAA,MAAAvB,OAAA,iBAG7C,kBAnBY,CAAAL,WAAWA,CAAA6B,EAAA,SAAA5B,IAAA,CAAA6B,KAAA,MAAAC,SAAA,OAmBvB,CAED,MAAO,IAAM,CAAAC,cAAc,gBAAAC,KAAA,CAAA/B,iBAAA,CAAAC,mBAAA,CAAAC,IAAA,CAAG,SAAA8B,SAAOC,IAAI,MAAA5B,QAAA,CAAA6B,SAAA,CAAAC,IAAA,QAAAlC,mBAAA,CAAAK,IAAA,UAAA8B,UAAAC,SAAA,iBAAAA,SAAA,CAAA5B,IAAA,CAAA4B,SAAA,CAAA3B,IAAA,SAAA2B,SAAA,CAAA5B,IAAA,GAErC,GAAIhB,KAAK,CAAE,CACT+B,OAAO,CAACc,GAAG,CAAC,0BAA0B,CAAEL,IAAI,CAAC,CAC/C,CAACI,SAAA,CAAA3B,IAAA,SAEsB,CAAAC,KAAK,IAAAC,MAAA,CAAIf,OAAO,qBAAoB,CACzDgB,MAAM,CAAE,MAAM,CACdC,OAAO,CAAE,CACP,cAAc,CAAE,kBAClB,CAAC,CACDC,IAAI,CAAEC,IAAI,CAACC,SAAS,CAAC,CAAEgB,IAAI,CAAJA,IAAK,CAAC,CAC/B,CAAC,CAAC,QANI5B,QAAQ,CAAAgC,SAAA,CAAAnB,IAAA,IAQTb,QAAQ,CAACc,EAAE,EAAAkB,SAAA,CAAA3B,IAAA,WAAA2B,SAAA,CAAA3B,IAAA,SACU,CAAAL,QAAQ,CAACgB,IAAI,CAAC,CAAC,SAAM,CAAC,iBAAO,CAAC,CAAC,EAAC,CAAC,QAAnDa,SAAS,CAAAG,SAAA,CAAAnB,IAAA,MACT,IAAI,CAAAE,KAAK,CAACc,SAAS,CAAC9B,OAAO,yBAAAQ,MAAA,CAA2BP,QAAQ,CAACkC,MAAM,CAAE,CAAC,SAGhF,GAAI9C,KAAK,CAAE,CACT+B,OAAO,CAACc,GAAG,CAAC,wBAAwB,CAAEjC,QAAQ,CAACkC,MAAM,CAAC,CACxD,CAACF,SAAA,CAAA3B,IAAA,UAEkB,CAAAL,QAAQ,CAACgB,IAAI,CAAC,CAAC,SAA5Bc,IAAI,CAAAE,SAAA,CAAAnB,IAAA,CACV,GAAIzB,KAAK,CAAE,CACT+B,OAAO,CAACc,GAAG,CAAC,sBAAsB,CAAEH,IAAI,CAAC,CAC3C,CAAC,OAAAE,SAAA,CAAAf,MAAA,UACMa,IAAI,UAAAE,SAAA,CAAA5B,IAAA,IAAA4B,SAAA,CAAAd,EAAA,CAAAc,SAAA,aAEXb,OAAO,CAACC,KAAK,CAAC,0BAA0B,CAAEY,SAAA,CAAAd,EAAA,CAAMnB,OAAO,CAAC,CAAC,MAAAiC,SAAA,CAAAd,EAAA,0BAAAc,SAAA,CAAAX,IAAA,MAAAM,QAAA,iBAG5D,kBAhCY,CAAAF,cAAcA,CAAAU,GAAA,SAAAT,KAAA,CAAAH,KAAA,MAAAC,SAAA,OAgC1B","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}